---
layout: post
title:  Allgro生成坐标文件
key:  2019-07-09
tags:
  - Allgro
  - 硬件设计
  - PCB
category:  blog
---
在使用Allgro的时候，经常需要PCB厂家帮你贴片，也就是PCBA服务，厂家会要求你给一个坐标文件的BOM表，那么怎么样的坐标文件才是规范的呢,本文给出一种比较合理的生成坐标文件的方法

|------------+---------+--------- -+-------+-------+----------+-------|
| Designator | Comment | Footprint | Mid X | Mid Y | Rotation | Layer |
| -----------|:------|:------|:------|:------:|-------:|--------:|
| C1 | 0.1uF | CAP0603 | 12.667 | 24.888 | 90 | B |
| R1 | 1R | RES0603 | 100.667 | 110.888 | 180 | T |
| D1 | LED-Y | 0603D | 220.667 | 89.888 | 0 | B |
|---------------------- + --------------  + ------------------ + ----------- + ----------- + ----------------- + ----------- |

<!--more-->
*快一年的时间没有更新博客，这一段时间内心都不是很坚定，在这里立个flag，以后有时间尽量都更新，一个礼拜无论如何需要更新一篇。*
生成的坐标文件如下所示


## 1.Allegro菜单点Tools, Reports ##
1. 从Available Reports里找Placed Component Report, 双击让它跑到下面框里.
2. 选中Write Report, 点Report. 此时会在.brd所在目录下生成一个pcp_rep.rpt
如下图所示
![report](https://s2.ax1x.com/2019/07/09/ZyJUdH.jpg)

## 2.使用Excel打开pcp_rep.rpt ## 
类型选”所有文件”, 找到刚生成的pcp_rep.rpt 
1. 出现”文本导入向导”, 直接点下一步.
2. 分隔符号这里把”逗号”选上, 然后点下一步.
3. 列数据格式, 选”文本”, 然后点完成.

## 3.修改表格 ## 
表格出来了, 前四行没用, 删掉. 表头要按JLC的格式修改, 具体如下:
1. REFDES, 改成Designator.
2. COMP_DEVICE_TYPE, 这列可以删掉.
3. COMP_VALUE, 改成Comment.
4. COMP_TOL, 这列可以删掉.
5. SYM_NAME, 改成Footprint. 下面的封装如果和JLC的不一样也要改. 比如我用的封装名称都是公制, RESC2012, CAPC1608之类, 要改成相应的英制RESC0805, CAPC0603. 没有前缀也可以, 但是在excel可能就变成805/603了, 不影响下单. SOP类的器件最好改成SOIC-8, SOIC-14这样, 等等, 总之以JLC给的参考文件为准.  选中这一列, 几次查找替换命令就解决了.
6. SYM_X, SYM_Y, 这两个改成Mid X和Mid Y, 底下的单位需要是毫米, mil不行.
**为什么最好不要用使用mil的原因是厂家机器使用的默认单位是mm，如果表格内单位是mil的话，厂家单位转换的过程当中会出现误差，可能会导致走线非常密集的板卡最终走线出现偏差。** 
7. SYM_ROTATE, 改成Rotation.
8. SYM_MIRROR, 改成Layer. 底下的YES全部替换成B, NO替换成T.
9. 删除直插和需要自己贴的元器件，完事！
## 4.备注 ##  
*在原理图设计的过程中，就最好充分的考虑选用的器件的名称要到位，并且有些参数事先写好，电容的耐压值或者电阻的特殊要求都在原理图设计的时候体现出来，封装最好按照标准命名方法，既可以提高工作效率，也可以让工程尽量的标准化。这样再出BOM的时候，基本上不用修改内容。* 
